import{_ as y,r,a as x,o as k,g as i,x as _,A as N,B as v,y as c,z as u,J as g,E as B,v as d,C as E}from"./DuSnHR8d.js";const G={class:"random-genre-generator"},b={key:0,class:"random-genre-display"},A={class:"random-genre-title"},R={class:"random-genre-artists"},C={__name:"random-genre",setup(w){const o=r([]),a=r(null),n=r(!1),t=r(null),{$axios:m}=x(),p=async()=>{try{n.value=!0,t.value=null;const e=localStorage.getItem("spotify_access_token");if(!e){t.value="No Spotify access token found in localStorage.",n.value=!1;return}const s={Authorization:`Bearer ${e}`},l=await m.get("/least-genres",{headers:s});o.value=l.data.least_genres}catch(e){t.value="Error fetching least listened-to genres.",console.error(t.value,e)}finally{n.value=!1}},f=()=>{if(o.value.length>0){const e=Math.floor(Math.random()*o.value.length);a.value=o.value[e]}else a.value=null};return k(()=>{p()}),(e,s)=>{const l=i("v-btn"),h=i("v-alert");return d(),_("div",G,[N(l,{onClick:f,loading:n.value,color:"primary",class:"random-genre-button rainbow-button"},{default:v(()=>s[0]||(s[0]=[c("span",{class:"rainbow-text"},"RANDOM GENRE GENERATOR",-1)])),_:1},8,["loading"]),a.value?(d(),_("div",b,[c("h3",A,u(a.value.genre),1),c("p",R," Artist: "+u(a.value.artists.join(", ")),1)])):g("",!0),t.value?(d(),B(h,{key:1,type:"error"},{default:v(()=>[E(u(t.value),1)]),_:1})):g("",!0)])}}},S=y(C,[["__scopeId","data-v-1940d51e"]]);export{S as default};
